#!/bin/bash
# Stops the active log capture process
# Usage: ./claude/scripts/stop-logs

PID_FILE="./build/logs/.last-capture-pid"

if [ ! -f "$PID_FILE" ]; then
  echo "❌ No active log capture found"
  exit 1
fi

PID=$(cat "$PID_FILE")

if ps -p "$PID" > /dev/null 2>&1; then
  kill "$PID"
  rm "$PID_FILE"
  echo "✅ Stopped log capture (PID $PID)"
else
  echo "⚠️  Process $PID is not running"
  rm "$PID_FILE"
  exit 1
fi
